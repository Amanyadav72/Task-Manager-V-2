{% extends 'base.html' %}

{% block title %}Sign Up - Task Manager{% endblock %}

{% block content %}
  <div class="form-container">
    <h2>📝 Create Account</h2>
    <form method="POST">
      <div class="form-group">
        <input type="text" name="username" placeholder="Choose a username" required autocomplete="username">
      </div>
      <div class="form-group">
        <input type="password" name="password" placeholder="Create a password" required autocomplete="new-password" minlength="6">
      </div>
      <button type="submit">Create Account</button>
    </form>
    
    <div style="text-align: center; margin-top: 1.5rem;">
      <p style="color: var(--gray-600);">
        Already have an account? 
        <a href="{{ url_for('auth.login') }}" style="color: var(--primary-color); text-decoration: none; font-weight: 500;">
          Login here
        </a>
      </p>
    </div>
  </div>
  
  <script>
    // Auto-focus on username input
    document.querySelector('input[name="username"]').focus();
    
    // Add loading state on form submission
    document.querySelector('form').addEventListener('submit', () => {
      const button = document.querySelector('button[type="submit"]');
      button.innerHTML = 'Creating Account...';
      button.disabled = true;
    });
    
    // Basic password validation
    const passwordInput = document.querySelector('input[name="password"]');
    passwordInput.addEventListener('input', () => {
      if (passwordInput.value.length < 6 && passwordInput.value.length > 0) {
        passwordInput.setCustomValidity('Password must be at least 6 characters long');
      } else {
        passwordInput.setCustomValidity('');
      }
    });
  </script>
{% endblock %}